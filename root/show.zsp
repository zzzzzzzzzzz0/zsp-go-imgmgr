<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="1.js"></script>
<style>
body {margin:0; padding:0;}
#img-1 {text-align:center;}
#bar {
	position:fixed;
	z-index:1;
	top:0;
	padding:7;
	border:1px dashed #000;
	background-color:rgba(255, 255, 255, 0.65);
	text-align:center;
}
.btn {padding:3;}
</style>
</head>
<body>
<script>
var i_ = <%让我得参%>;
function max__() {
	return opener.img_max_;
}

function w_h__(w, h) {
	e_.style.maxWidth = null;
	e_.style.width = w;
	e_.style.height = h;
}

function z__() {
	if(i_ < 1)
		i_ = max__();
	else if(i_ > max__())
		i_ = 1;
	var e = o_e__("i" + i_);
	if(!e) {
		old_key__();
		return;
	}
	src_ = e.value;
	img_.src = src_;
	r_ = 0; sx_ = sy_ = fx_ = 1;
	transform__();
	title__();
}
function title__() {
	e__("title").innerHTML = i_ + " " + max__() + "<br>" + old_key_ + " " + r_;
}
var r_, sx_, sy_, fx_;
function transform__() {
	e_.style.transform = "rotate(" + r_ + "deg)scale(" + (fx_ * sx_) + "," + sy_ + ")";
}
function s__(s) {
	sx_ = sy_ = s; transform__();
}
function r__() {
	r_ += 15; transform__(); title__();
}
function rz__() {
	r_ -= 15; transform__(); title__();
}
function f__() {
	fx_ = fx_ == 1 ? -1 : 1; transform__();
}
function first__() {
	i_ = 1; z__();
}
function back__() {
	old_key_ = "B";
	i_--; z__();
}
function next__() {
	old_key_ = "N";
	i_++; z__();
}
function end__() {
	i_ = max__(); z__();
}
function rand__() {
	old_key_ = "R";
	i_ = Math.floor(Math.random() * max__()) + 1; z__();
}
function old_key__() {
	switch(old_key_) {
	case "B":
		back__();
		break;
	default:
		next__();
		break;
	}
}
function set_change__() {
	opener.set_change__(function(s) {
		opener.set_change__(null);
		focus__(s);
		old_key__();
	});
	opener.sel_all__(false);
	o_e__("i" + i_).checked = true;
}
function mv__() {
	set_change__();
	opener.mv__();
}
function rm__() {
	set_change__();
	opener.rm__();
}
function quit__() {
	window.close();
}
function kao__() {
	var s = e__("bar").style;
	if(s.left == "0px") {
		s.right = "0px";
		s.left = null;
		e__("kao").innerHTML = "左";
	} else {
		s.left = "0px";
		s.right = null;
		e__("kao").innerHTML = "右";
	}
}
var old_key_ = "N";
window.document.onkeydown = function(evt) {
	var s = String.fromCharCode(evt.keyCode);
	switch(s) {
	case " ":
		s = old_key_;
		break;
	}
	switch(s) {
	case "F":
		first__();
		break;
	case "B":
		back__();
		break;
	case "N":
		next__();
		break;
	case "E":
		end__();
		break;
	case "R":
		rand__();
		break;
	case "X":
		r__();
		break;
	case "Z":
		rz__();
		break;
	case "Q":
		quit__();
		break;
	}
};
</script>
<div id=bar style="left:0px">
<div id=title></div>
<%
定义加以下代码
	“<a href="javascript:‘参数1’"><div class=btn>‘参数2’</div></a>”
上代码。
加first__()、“第一页F”。
加back__()、“上一页B”。
加next__()、“下一页N”。
加end__()、“最后页E”。
加rand__()、“随机页R”。
加z__()、刷新。
加s__(1)、“1 : 1”。
加s__(2)、“1 : 2”。
加s__(0.5)、“1 : 0.5”。
加r__()、右旋转X。
加rz__()、左旋转Z。
加f__()、水平翻转。
加mv__()、移动。
加rm__()、“删除”。
加quit__()、“结束Q”。
加kao__()、“靠<span id=kao>右</span>”。
删除“加”。
%>
</div>
<div id=img-1><img id=img></div>
<script>
var src_;
var img_ = new Image();
var e_ = e__("img");
img_.onload = function() {
	e_.src = img_.src;
	w_h__(null, null);
	if(img_.width > document.body.clientWidth) {
		e_.style.maxWidth = "100%";
		e_.style.height = "auto";
	}
	if(img_.height > document.body.clientHeight) {
		e_.style.maxWidth = "auto";
		e_.style.height = "100%";
	}
};
z__();
</script>
</body>
</html>
